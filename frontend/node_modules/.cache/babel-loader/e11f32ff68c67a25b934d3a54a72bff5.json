{"ast":null,"code":"var _jsxFileName = \"D:\\\\GitHub\\\\BiometricAttendence-Presence\\\\frontend\\\\src\\\\components\\\\Registration.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef } from 'react';\nimport Webcam from 'react-webcam';\nimport { Button, Container, Paper, Typography, TextField, CircularProgress } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  root: {\n    marginTop: theme.spacing(4),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center'\n  },\n  paper: {\n    padding: theme.spacing(3),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    width: '100%',\n    maxWidth: '500px'\n  },\n  form: {\n    width: '100%',\n    marginTop: theme.spacing(1)\n  },\n  webcam: {\n    marginTop: theme.spacing(2),\n    marginBottom: theme.spacing(2),\n    width: '100%',\n    borderRadius: theme.spacing(1)\n  },\n  button: {\n    margin: theme.spacing(2, 0)\n  },\n  textField: {\n    marginBottom: theme.spacing(2)\n  }\n}));\nconst Registration = () => {\n  _s();\n  const classes = useStyles();\n  const webcamRef = useRef(null);\n  const [loading, setLoading] = useState(false);\n  const [message, setMessage] = useState('');\n  const [formData, setFormData] = useState({\n    name: '',\n    employee_id: ''\n  });\n  const handleInputChange = e => {\n    setFormData({\n      ...formData,\n      [e.target.name]: e.target.value\n    });\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!formData.name || !formData.employee_id) {\n      setMessage('Please fill in all fields');\n      return;\n    }\n    try {\n      setLoading(true);\n      setMessage('');\n      const imageSrc = webcamRef.current.getScreenshot();\n      if (!imageSrc) {\n        setMessage('Failed to capture image');\n        return;\n      }\n      const response = await axios.post('http://localhost:5000/api/register', {\n        ...formData,\n        face_image: imageSrc\n      });\n      setMessage(response.data.message);\n      // Clear form on success\n      setFormData({\n        name: '',\n        employee_id: ''\n      });\n    } catch (error) {\n      var _error$response, _error$response$data;\n      setMessage(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.error) || 'An error occurred');\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Container, {\n    maxWidth: \"sm\",\n    className: classes.root,\n    children: /*#__PURE__*/_jsxDEV(Paper, {\n      elevation: 3,\n      className: classes.paper,\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h5\",\n        gutterBottom: true,\n        children: \"Employee Registration\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: classes.form,\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(TextField, {\n          className: classes.textField,\n          variant: \"outlined\",\n          required: true,\n          fullWidth: true,\n          label: \"Full Name\",\n          name: \"name\",\n          value: formData.name,\n          onChange: handleInputChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          className: classes.textField,\n          variant: \"outlined\",\n          required: true,\n          fullWidth: true,\n          label: \"Employee ID\",\n          name: \"employee_id\",\n          value: formData.employee_id,\n          onChange: handleInputChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Webcam, {\n          audio: false,\n          ref: webcamRef,\n          screenshotFormat: \"image/jpeg\",\n          className: classes.webcam\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          type: \"submit\",\n          fullWidth: true,\n          variant: \"contained\",\n          color: \"primary\",\n          className: classes.button,\n          disabled: loading,\n          children: loading ? /*#__PURE__*/_jsxDEV(CircularProgress, {\n            size: 24\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 24\n          }, this) : 'Register'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }, this), message && /*#__PURE__*/_jsxDEV(Typography, {\n        color: message.includes('error') ? 'error' : 'primary',\n        children: message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 97,\n    columnNumber: 5\n  }, this);\n};\n_s(Registration, \"K4VdArOq2k4MpdBahTzkUQ7Dps0=\", false, function () {\n  return [useStyles];\n});\n_c = Registration;\nexport default Registration;\nvar _c;\n$RefreshReg$(_c, \"Registration\");","map":{"version":3,"names":["React","useState","useRef","Webcam","Button","Container","Paper","Typography","TextField","CircularProgress","makeStyles","axios","jsxDEV","_jsxDEV","useStyles","theme","root","marginTop","spacing","display","flexDirection","alignItems","paper","padding","width","maxWidth","form","webcam","marginBottom","borderRadius","button","margin","textField","Registration","_s","classes","webcamRef","loading","setLoading","message","setMessage","formData","setFormData","name","employee_id","handleInputChange","e","target","value","handleSubmit","preventDefault","imageSrc","current","getScreenshot","response","post","face_image","data","error","_error$response","_error$response$data","className","children","elevation","variant","gutterBottom","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","required","fullWidth","label","onChange","audio","ref","screenshotFormat","type","color","disabled","size","includes","_c","$RefreshReg$"],"sources":["D:/GitHub/BiometricAttendence-Presence/frontend/src/components/Registration.js"],"sourcesContent":["import React, { useState, useRef } from 'react';\nimport Webcam from 'react-webcam';\nimport { \n  Button, \n  Container, \n  Paper, \n  Typography, \n  TextField, \n  CircularProgress \n} from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport axios from 'axios';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    marginTop: theme.spacing(4),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  paper: {\n    padding: theme.spacing(3),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    width: '100%',\n    maxWidth: '500px',\n  },\n  form: {\n    width: '100%',\n    marginTop: theme.spacing(1),\n  },\n  webcam: {\n    marginTop: theme.spacing(2),\n    marginBottom: theme.spacing(2),\n    width: '100%',\n    borderRadius: theme.spacing(1),\n  },\n  button: {\n    margin: theme.spacing(2, 0),\n  },\n  textField: {\n    marginBottom: theme.spacing(2),\n  },\n}));\n\nconst Registration = () => {\n  const classes = useStyles();\n  const webcamRef = useRef(null);\n  const [loading, setLoading] = useState(false);\n  const [message, setMessage] = useState('');\n  const [formData, setFormData] = useState({\n    name: '',\n    employee_id: '',\n  });\n\n  const handleInputChange = (e) => {\n    setFormData({\n      ...formData,\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if (!formData.name || !formData.employee_id) {\n      setMessage('Please fill in all fields');\n      return;\n    }\n\n    try {\n      setLoading(true);\n      setMessage('');\n\n      const imageSrc = webcamRef.current.getScreenshot();\n      if (!imageSrc) {\n        setMessage('Failed to capture image');\n        return;\n      }\n\n      const response = await axios.post('http://localhost:5000/api/register', {\n        ...formData,\n        face_image: imageSrc,\n      });\n\n      setMessage(response.data.message);\n      // Clear form on success\n      setFormData({ name: '', employee_id: '' });\n    } catch (error) {\n      setMessage(error.response?.data?.error || 'An error occurred');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <Container maxWidth=\"sm\" className={classes.root}>\n      <Paper elevation={3} className={classes.paper}>\n        <Typography variant=\"h5\" gutterBottom>\n          Employee Registration\n        </Typography>\n\n        <form className={classes.form} onSubmit={handleSubmit}>\n          <TextField\n            className={classes.textField}\n            variant=\"outlined\"\n            required\n            fullWidth\n            label=\"Full Name\"\n            name=\"name\"\n            value={formData.name}\n            onChange={handleInputChange}\n          />\n\n          <TextField\n            className={classes.textField}\n            variant=\"outlined\"\n            required\n            fullWidth\n            label=\"Employee ID\"\n            name=\"employee_id\"\n            value={formData.employee_id}\n            onChange={handleInputChange}\n          />\n\n          <Webcam\n            audio={false}\n            ref={webcamRef}\n            screenshotFormat=\"image/jpeg\"\n            className={classes.webcam}\n          />\n\n          <Button\n            type=\"submit\"\n            fullWidth\n            variant=\"contained\"\n            color=\"primary\"\n            className={classes.button}\n            disabled={loading}\n          >\n            {loading ? <CircularProgress size={24} /> : 'Register'}\n          </Button>\n        </form>\n\n        {message && (\n          <Typography \n            color={message.includes('error') ? 'error' : 'primary'}\n          >\n            {message}\n          </Typography>\n        )}\n      </Paper>\n    </Container>\n  );\n};\n\nexport default Registration;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}